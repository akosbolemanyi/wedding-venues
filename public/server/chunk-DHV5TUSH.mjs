import './polyfills.server.mjs';
import{a as bi}from"./chunk-BRBMYIGI.mjs";import{D as Ue,E as Be,F as We,G as yi,a as oe,b as kt,c as Et,d as Pe,e as Ft,f as Dt,g as Rt,h as At,i as Pt,j as jt,k as Lt,l as Vt,m as Nt,n as Ut,o as Bt,p as Wt,q as je,r as zt,t as Ht,u as gi,x as fi,y as _i}from"./chunk-QDOZ7CHY.mjs";import{a as vi,b as Ci,c as Mi,d as Ii,e as Oi,f as wi}from"./chunk-TQXQ5WI2.mjs";import{b as Tt}from"./chunk-VOUNFRAZ.mjs";import{A as xi,B as Ti,C as ki,b as Gt,d as N,e as Kt,f as se,g as qt,i as Qt,k as Yt,l as $t,n as le,p as Xt,q as Zt,r as Jt,s as ei,t as mi,u as pi,v as hi,w as de,x as ui,y as Si}from"./chunk-GKFZDAWM.mjs";import{$ as Ne,Q as Le,R as ii,S as Ve,T as ni,X as ri,aa as ai,d as Mt,da as oi,e as It,f as De,g as Re,ja as si,ka as li,la as ce,m as Ot,ma as ci,n as wt,na as di,o as St,oa as G,q as xt,z as ti}from"./chunk-FKSMKC2P.mjs";import{c as ke,d as Ee,f as re,g as yt,i as ae,j as vt,k as bt}from"./chunk-YG54OGXN.mjs";import{a as _t,o as Fe}from"./chunk-ANIMIOQY.mjs";import{$a as m,$b as pt,A as be,Bb as c,Cb as s,Db as O,E as qe,Fb as Z,G as Ce,Ha as V,I as Qe,Ib as v,Ja as Je,Kb as b,Lb as rt,Lc as ut,Mb as xe,Mc as ie,Nb as J,Nc as gt,Ob as ee,Oc as ft,Pb as E,Qb as F,Rb as at,Rc as ne,S as Me,Sb as p,T as j,Tb as w,Ub as te,V as x,Vb as ot,Wb as st,Xa as et,Xb as lt,Yb as ct,Z as L,Zb as dt,_a as d,_b as mt,ac as ht,ba as y,c as Ge,ca as I,da as T,f as q,fa as Ie,ga as z,ha as H,hb as we,ia as Oe,ib as $,ja as Ye,ka as $e,m as B,mb as tt,n as ve,na as Y,oa as k,qa as M,qb as C,r as W,rb as X,sb as u,ta as Xe,ub as it,w as Ke,wb as nt,wc as D,xa as g,xb as Se,xc as Te,ya as Ze,z as Q}from"./chunk-DXOQOJXE.mjs";import{l as Ct,v as Ae}from"./chunk-TFIXUW7O.mjs";import"./chunk-3SZVCSKE.mjs";import"./chunk-H6KHSOBK.mjs";var U=class{constructor(t,a,e){this._delegate=t,this.task=a,this.ref=e}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var me=class{constructor(t,a){this._delegate=t,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new U(this._delegate.snapshot,this,this._ref)}then(t,a){return this._delegate.then(e=>{if(t)return t(new U(e,this,this._ref))},a)}on(t,a,e,i){let r;return a&&(typeof a=="function"?r=o=>a(new U(o,this,this._ref)):r={next:a.next?o=>a.next(new U(o,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(t,r,e||void 0,i||void 0)}},pe=class{constructor(t,a){this._delegate=t,this._service=a}get prefixes(){return this._delegate.prefixes.map(t=>new R(t,this._service))}get items(){return this._delegate.items.map(t=>new R(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var R=class n{constructor(t,a){this._delegate=t,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){let a=zt(this._delegate,t);return new n(a,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let t=this._delegate.parent;return t==null?null:new n(t,this.storage)}put(t,a){return this._throwIfRoot("put"),new me(jt(this._delegate,t,a),this)}putString(t,a=Pe.RAW,e){this._throwIfRoot("putString");let i=Ft(a,t),r=Object.assign({},e);return r.contentType==null&&i.contentType!=null&&(r.contentType=i.contentType),new me(new Pt(this._delegate,new Dt(i.data,!0),r),this)}listAll(){return Ut(this._delegate).then(t=>new pe(t,this.storage))}list(t){return Nt(this._delegate,t||void 0).then(a=>new pe(a,this.storage))}getMetadata(){return Lt(this._delegate)}updateMetadata(t){return Vt(this._delegate,t)}getDownloadURL(){return Bt(this._delegate)}delete(){return this._throwIfRoot("delete"),Wt(this._delegate)}_throwIfRoot(t){if(this._delegate._location.path==="")throw kt(t)}};var he=class{constructor(t,a){this.app=t,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Ei(t))throw oe("ref() expected a child path but got a URL, use refFromURL instead.");return new R(je(this._delegate,t),this)}refFromURL(t){if(!Ei(t))throw oe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Et.makeFromUrl(t,this._delegate.host)}catch{throw oe("refFromUrl() expected a valid full URL but got an invalid one.")}return new R(je(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,a,e={}){Ht(this._delegate,t,a,e)}};function Ei(n){return/^[A-Za-z]+:\/\//.test(n)}var Yi="@firebase/storage-compat",$i="0.3.8";var Xi="storage-compat";function Zi(n,{instanceIdentifier:t}){let a=n.getProvider("app-compat").getImmediate(),e=n.getProvider("storage").getImmediate({identifier:t});return new he(a,e)}function Ji(n){let t={TaskState:At,TaskEvent:Rt,StringFormat:Pe,Storage:he,Reference:R};n.INTERNAL.registerComponent(new Ct(Xi,Zi,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion(Yi,$i)}Ji(Ae);function en(n){return new Ge(t=>{let a=o=>t.next(o),e=o=>t.error(o),i=()=>t.complete();a(n.snapshot);let r=n.on("state_changed",a);return n.then(o=>{a(o),i()},o=>{a(n.snapshot),e(o)}),function(){r()}}).pipe(qe(0))}function Fi(n){let t=en(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(W(a=>a.bytesTransferred/a.totalBytes*100))}}function ue(n){return{getDownloadURL:()=>ve(void 0).pipe(De,j(()=>n.getDownloadURL()),Re),getMetadata:()=>ve(void 0).pipe(De,j(()=>n.getMetadata()),Re),delete:()=>B(n.delete()),child:t=>ue(n.child(t)),updateMetadata:t=>B(n.updateMetadata(t)),put:(t,a)=>{let e=n.put(t,a);return Fi(e)},putString:(t,a,e)=>{let i=n.putString(t,a,e);return Fi(i)},list:t=>B(n.list(t)),listAll:()=>B(n.listAll())}}var tn=new M("angularfire2.storageBucket"),nn=new M("angularfire2.storage.maxUploadRetryTime"),rn=new M("angularfire2.storage.maxOperationRetryTime"),an=new M("angularfire2.storage.use-emulator"),Di=(()=>{class n{storage;constructor(a,e,i,r,o,l,f,h,fe,He){let A=St(a,o,e);this.storage=xt(`${A.name}.storage.${i}`,"AngularFireStorage",A.name,()=>{let P=o.runOutsideAngular(()=>A.storage(i||void 0)),K=fe;return K&&P.useEmulator(...K),f&&P.setMaxUploadRetryTime(f),h&&P.setMaxOperationRetryTime(h),P},[f,h])}ref(a){return ue(this.storage.ref(a))}refFromURL(a){return ue(this.storage.refFromURL(a))}upload(a,e,i){let r=this.storage.ref(a);return ue(r).put(e,i)}static \u0275fac=function(e){return new(e||n)(g(Ot),g(wt,8),g(tn,8),g(Xe),g($),g(It),g(nn,8),g(rn,8),g(an,8),g(Mt,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var ge=(()=>{let t=class t{constructor(e,i,r){this.http=e,this.afs=i,this.storage=r,this.collectionName="Pictures"}loadImageMeta(e){return this.afs.collection(this.collectionName).valueChanges()}loadImage(e){return this.storage.ref(e).getDownloadURL()}};t.\u0275fac=function(i){return new(i||t)(g(_t),g(Tt),g(Di))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var mn=["trigger"],pn=["panel"];function hn(n,t){if(n&1&&(c(0,"span",9),p(1),s()),n&2){let a=b();d(),w(a.placeholder)}}function un(n,t){n&1&&xe(0)}function gn(n,t){if(n&1&&(c(0,"span",11),p(1),s()),n&2){let a=b(2);d(),w(a.triggerValue)}}function fn(n,t){if(n&1&&(c(0,"span",10),C(1,un,1,0)(2,gn,2,1),s()),n&2){let a=b();d(),Se(1,a.customTrigger?1:2)}}function _n(n,t){if(n&1){let a=Z();Oe(),Ye(),c(0,"div",12,13),v("@transformPanel.done",function(i){z(a);let r=b();return H(r._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){z(a);let r=b();return H(r._handleKeydown(i))}),xe(2,1),s()}if(n&2){let a=b();nt("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",a._getPanelTheme(),""),u("ngClass",a.panelClass)("@transformPanel","showing"),X("id",a.id+"-panel")("aria-multiselectable",a.multiple)("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby())}}var yn=[[["mat-select-trigger"]],"*"],vn=["mat-select-trigger","*"],bn={transformPanelWrap:ke("transformPanelWrap",[ae("* => void",bt("@transformPanel",[vt()],{optional:!0}))]),transformPanel:ke("transformPanel",[yt("void",re({opacity:0,transform:"scale(1, 0.8)"})),ae("void => showing",Ee("120ms cubic-bezier(0, 0, 0.2, 1)",re({opacity:1,transform:"scale(1, 1)"}))),ae("* => void",Ee("100ms linear",re({opacity:0})))])};var Vi=0,Ui=new M("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=Ze(Ue);return()=>n.scrollStrategies.reposition()}});function Cn(n){return()=>n.scrollStrategies.reposition()}var Mn=new M("MAT_SELECT_CONFIG"),In={provide:Ui,deps:[Ue],useFactory:Cn},On=new M("MatSelectTrigger"),ze=class{constructor(t,a){this.source=t,this.value=a}},Bi=(()=>{let t=class t{_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=ci(e,this.options,this.optionGroups),l=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=di(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ze(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(N.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,o,l,f,h,fe,He,A,P,K,Qi,_e){this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._elementRef=l,this._dir=f,this._parentFormField=He,this.ngControl=A,this._liveAnnouncer=Qi,this._defaultOptions=_e,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(_,ye)=>_===ye,this._uid=`mat-select-${Vi++}`,this._triggerAriaLabelledBy=null,this._destroy=new q,this.stateChanges=new q,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Vi++}`,this._panelDoneAnimatingStream=new q,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=Ke(()=>{let _=this.options;return _?_.changes.pipe(Me(_),j(()=>Q(..._.map(ye=>ye.onSelectionChange)))):this._ngZone.onStable.pipe(Ce(1),j(()=>this.optionSelectionChanges))}),this.openedChange=new L,this._openedStream=this.openedChange.pipe(be(_=>_),W(()=>{})),this._closedStream=this.openedChange.pipe(be(_=>!_),W(()=>{})),this.selectionChange=new L,this.valueChange=new L,this._trackedModal=null,this._skipPredicate=_=>this.panelOpen?!1:_.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),_e?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=_e.typeaheadDebounceInterval),this._errorStateTracker=new ai(o,A,fe,h,this.stateChanges),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}ngOnInit(){this._selectionModel=new gi(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Qe(),x(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(x(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(x(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Me(null),x(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Ve(this._trackedModal,"aria-owns",i),ii(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Ve(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,l=this._keyManager;if(!l.isTyping()&&o&&!Le(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let f=this.selected;l.onKeydown(e);let h=this.selected;h&&f!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,l=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!l&&(r===13||r===32)&&i.activeItem&&!Le(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!l&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let f=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(f?h.select():h.deselect())})}else{let f=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ce(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Be?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new ni(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Q(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(x(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Q(...this.options.map(i=>i._stateChanges)).pipe(x(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};t.\u0275fac=function(i){return new(i||t)(m(fi),m(we),m($),m(oi),m($e),m(ti,8),m(Qt,8),m(le,8),m(hi,8),m(Kt,10),Je("tabindex"),m(Ui),m(ri),m(Mn,8))},t.\u0275cmp=I({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&(J(o,On,5),J(o,ce,5),J(o,li,5)),i&2){let l;E(l=F())&&(r.customTrigger=l.first),E(l=F())&&(r.options=l),E(l=F())&&(r.optionGroups=l)}},viewQuery:function(i,r){if(i&1&&(ee(mn,5),ee(pn,5),ee(We,5)),i&2){let o;E(o=F())&&(r.trigger=o.first),E(o=F())&&(r.panel=o.first),E(o=F())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&v("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(X("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),it("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[y.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[y.HasDecoratorInputTransform,"disabled","disabled",D],disableRipple:[y.HasDecoratorInputTransform,"disableRipple","disableRipple",D],tabIndex:[y.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:Te(e)],hideSingleSelectionIndicator:[y.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",D],placeholder:"placeholder",required:[y.HasDecoratorInputTransform,"required","required",D],multiple:[y.HasDecoratorInputTransform,"multiple","multiple",D],disableOptionCentering:[y.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",D],compareWith:"compareWith",value:"value",ariaLabel:[y.None,"aria-label","ariaLabel"],ariaLabelledby:[y.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[y.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Te],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[ct([{provide:pi,useExisting:t},{provide:si,useExisting:t}]),tt,V,dt],ngContentSelectors:vn,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(i&1&&(rt(yn),c(0,"div",0,1),v("click",function(){return r.open()}),c(3,"div",2),C(4,hn,2,1,"span",3)(5,fn,3,1),s(),c(6,"div",4)(7,"div",5),Oe(),c(8,"svg",6),O(9,"path",7),s()()()(),C(10,_n,3,9,"ng-template",8),v("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),i&2){let o=at(1);d(3),X("id",r._valueId),d(),Se(4,r.empty?4:5),d(6),u("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Be,We,ut],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[bn.transformPanel]},changeDetection:0});let n=t;return n})();var Wi=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=T({type:t}),t.\u0275inj=k({providers:[In],imports:[ne,yi,G,Ne,_i,ui,G,Ne]});let n=t;return n})();function Tn(n,t){if(n&1&&(c(0,"mat-option",7),p(1),s()),n&2){let a=t.$implicit;u("value",a),d(),w(a.id)}}var zi=(()=>{let t=class t{constructor(){this.imageObjectEmitter=new L}ngOnChanges(){this.siteObjectInput&&(this.chosenImage=this.siteObjectInput[0],this.reload())}ngOnInit(){}reload(){this.imageObjectEmitter.emit(this.chosenImage)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=I({type:t,selectors:[["app-list"]],inputs:{siteObjectInput:"siteObjectInput"},outputs:{imageObjectEmitter:"imageObjectEmitter"},features:[V],decls:9,vars:2,consts:[[1,"table"],[1,"centered"],[1,"title"],[1,"container"],["appearance","fill"],[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){i&1&&(c(0,"table",0)(1,"tr")(2,"td",1)(3,"h1",2),p(4,"V\xE1lasszon helysz\xEDneink k\xF6z\xFCl:"),s()(),c(5,"td",3)(6,"mat-form-field",4)(7,"mat-select",5),v("selectionChange",function(){return r.reload()}),lt("ngModelChange",function(l){return st(r.chosenImage,l)||(r.chosenImage=l),l}),C(8,Tn,2,2,"mat-option",6),s()()()()()),i&2&&(d(7),ot("ngModel",r.chosenImage),d(),u("ngForOf",r.siteObjectInput))},dependencies:[ie,se,Yt,de,Bi,ce],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{padding:10px 40px}.centered[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]{margin-left:40px}']});let n=t;return n})();var Hi=(()=>{let t=class t{transform(e,...i){let r=new Date(e).getTimezoneOffset()*6e4,o=new Date(e).getTime()-r,l=new Date(o).toISOString().replace("Z","").replace("T",""),f=l.substring(0,10)+"-"+l.substring(11,16);return f.substring(0,f.length-1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=Ie({name:"dateFormat",type:t,pure:!0});let n=t;return n})();var Fn=n=>({"background-color":n});function Dn(n,t){if(n&1&&(c(0,"div",12)(1,"mat-card",13)(2,"mat-card-content")(3,"p")(4,"strong"),p(5,"User:"),s(),p(6),s(),c(7,"p")(8,"strong"),p(9,"Comment:"),s(),p(10),s(),c(11,"p")(12,"strong"),p(13,"Date:"),s(),p(14),pt(15,"dateFormat"),s()()()()),n&2){let a=t.$implicit,e=t.index;d(),u("ngStyle",mt(6,Fn,e%2===0?"blanchedalmond":"whitesmoke")),d(5),te(" ",a.username,""),d(4),te(" ",a.comment,""),d(4),te(" ",ht(15,4,a.date),"")}}function Rn(n,t){if(n&1&&(c(0,"div"),C(1,Dn,16,8,"div",11),s()),n&2){let a=b(2);d(),u("ngForOf",a.comments)}}function An(n,t){if(n&1){let a=Z();c(0,"div",1)(1,"mat-card")(2,"mat-card-header",2)(3,"mat-card-title"),p(4),s()(),c(5,"mat-card-content"),O(6,"img",3),c(7,"p"),p(8),s(),c(9,"form",4),v("ngSubmit",function(){z(a);let i=b();return H(i.addComment())}),c(10,"mat-form-field")(11,"mat-label",5),p(12,"Felhaszn\xE1l\xF3:"),s(),O(13,"input",6),s(),c(14,"mat-form-field")(15,"mat-label",7),p(16,"Le\xEDr\xE1s:"),s(),O(17,"textarea",8),s(),c(18,"button",9),p(19,"Hozz\xE1ad\xE1s"),s()()()(),c(20,"h1"),p(21,"Megjegyz\xE9sek"),s(),C(22,Rn,2,1,"div",10),s()}if(n&2){let a=b();d(4),w(a.imageInput.title),d(2),u("src",a.loadedImage,et),d(2),w(a.imageInput.title),d(),u("formGroup",a.commentsForm),d(13),u("ngIf",a.comments.length)}}var Gi=(()=>{let t=class t{constructor(e,i,r,o){this.fb=e,this.sitesService=i,this.commentService=r,this.userService=o,this.comments=[],this.commentsForm=this.createForm({id:"",username:"",comment:"",date:new Date().getTime(),imageId:this.imageInput?.id||""})}ngOnChanges(){this.imageInput?.id&&(this.commentsForm.get("imageId")?.setValue(this.imageInput.id),this.sitesService.loadImage(this.imageInput.image_url).subscribe(e=>{this.loadedImage=e}),this.commentService.getCommentByImageId(this.imageInput.id).subscribe(e=>{this.comments=e}))}ngOnInit(){let e=JSON.parse(localStorage.getItem("user"));this.userService.getById(e.uid).subscribe(i=>{this.user=i,this.commentsForm.get("username")?.setValue(this.user?.username)},i=>{console.error(i)})}createForm(e){return this.fb.group({id:[e.id],username:[e.username,N.required],comment:[e.comment,[N.required,N.minLength(6)]],date:[e.date],imageId:[e.imageId]})}addComment(){if(this.commentsForm.valid){let e={id:"",username:this.commentsForm.get("username")?.value||"",comment:this.commentsForm.get("comment")?.value||"",date:new Date().getTime(),imageId:this.imageInput?.id||""};this.commentService.create(e).then(()=>{console.log("Sikeres kommentel\xE9s!")}).catch(i=>{console.error(i)})}}};t.\u0275fac=function(i){return new(i||t)(m(Zt),m(ge),m(vi),m(bi))},t.\u0275cmp=I({type:t,selectors:[["app-viewer"]],inputs:{imageInput:"imageInput"},features:[V],decls:1,vars:1,consts:[["class","div-card",4,"ngIf"],[1,"div-card"],["fxlayoutfxLayoutGap","20px"],[1,"galleryImage",3,"src"],[3,"formGroup","ngSubmit"],["for","username"],["matInput","","type","text","formControlName","username","placeholder","Felhaszn\xE1l\xF3"],["for","comment"],["matInput","","rows","10","cols","50","formControlName","comment","placeholder","Le\xEDr\xE1s"],["mat-raised-button","","color","primary","type","submit"],[4,"ngIf"],["class","card-container",4,"ngFor","ngForOf"],[1,"card-container"],[3,"ngStyle"]],template:function(i,r){i&1&&C(0,An,23,5,"div",0),i&2&&u("ngIf",r.imageInput)},dependencies:[ie,gt,ft,$t,Gt,se,qt,le,Xt,de,mi,Ci,Ii,Oi,Mi,Si,Ti,Hi],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.galleryImage[_ngcontent-%COMP%]{width:50%;height:auto}.break[_ngcontent-%COMP%]{flex-basis:100%;height:0}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}.table-hader-odd[_ngcontent-%COMP%]{background-color:azure}form[_ngcontent-%COMP%]{width:100%;text-align:center}.div-card[_ngcontent-%COMP%]{padding:50px}h1[_ngcontent-%COMP%]{text-align:center;margin-top:40px;margin-bottom:40px;font-family:Bradley Hand,cursive;font-size:32px}.card-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.mat-card[_ngcontent-%COMP%]{width:80%;margin:0 auto}.mat-card-content[_ngcontent-%COMP%]{padding:20px}p[_ngcontent-%COMP%]{margin:0}.odd-card[_ngcontent-%COMP%]{background-color:#f5f5f5}.even-card[_ngcontent-%COMP%]{background-color:azure}"]});let n=t;return n})();var Ki=(()=>{let t=class t{constructor(e){this.sitesService=e}ngOnInit(){this.sitesService.loadImageMeta("pictures.json").subscribe(e=>{console.log(e),this.siteObject=e})}loadImage(e){this.chosenImage=e}};t.\u0275fac=function(i){return new(i||t)(m(ge))},t.\u0275cmp=I({type:t,selectors:[["app-sites"]],decls:2,vars:2,consts:[[3,"siteObjectInput","imageObjectEmitter"],[3,"imageInput"]],template:function(i,r){i&1&&(c(0,"app-list",0),v("imageObjectEmitter",function(l){return r.loadImage(l)}),s(),O(1,"app-viewer",1)),i&2&&(u("siteObjectInput",r.siteObject),d(),u("imageInput",r.chosenImage))},dependencies:[zi,Gi],styles:['@charset "UTF-8";.image-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center}.image-selection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;border-radius:4px;border:1px solid #ccc;font-size:16px}.image-selection[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-selection[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px;font-size:18px;font-weight:700}.image-selection[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .galleryImage[_ngcontent-%COMP%]{width:600px;height:auto;border:1px solid #ccc;border-radius:4px;box-shadow:0 4px 8px #0000001a}']});let n=t;return n})();var jn=[{path:"",component:Ki}],qi=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=T({type:t}),t.\u0275inj=k({imports:[Fe.forChild(jn),Fe]});let n=t;return n})();var ha=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=T({type:t}),t.\u0275inj=k({imports:[ne,qi,Jt,ei,Wi,G,wi,xi,ki]});let n=t;return n})();export{ha as SitesModule};
